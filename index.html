<!doctype html>
<html lang="ru">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-142857222-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-142857222-2');
</script>

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" id="styleLink" href="css/styles.css">
  <link rel="shortcut icon" href="favicon.ico" type="image/ico">
  <title>Расписание Д-206</title>
</head>

<body>
  <div class="container-md">
    <!--нечетная неделя-->
    <div class="row justify-content-center">
      <button type="button" class="btn btn-mycolor1 col-12 btn-block text-white" data-toggle="collapse" data-target="#timetableOdd" id="buttonOdd">Нечетная неделя</button>
    </div>
    <div class="row justify-content-center">
      <div class="collapse table-responsive-sm" id="timetableOdd">
        <table class="table table-bordered">
          <tbody id="nechetBody">
          </tbody>
        </table>
      </div>
    </div>
    <!--четная неделя-->
    <div class="row justify-content-center">
      <button type="button" class="btn btn-primary col-12 btn-block" data-toggle="collapse" data-target="#timetableEven" id="buttonEven">Четная неделя</button>
    </div>
    <div class="row justify-content-center">
      <div class="collapse table-responsive-sm" id="timetableEven">
        <table class="table table-bordered">
          <tbody id="chetBody">
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="container-md">
    <!--акутальное рассписание-->
    <div class="row justify-content-center">
      <table class="table table-bordered col-5">
        <thead class="thead-dark" id="dayTimetableHD">
          <tr>
            <th colspan="4"></th>
          </tr>
        </thead>
        <tbody id="dayTimetableBD">
        </tbody>
      </table>
    </div>
  </div>
  <div class = container>
    <div class="row justify-content-center">
    <div class="custom-control custom-switch">
      <input type="checkbox" class="custom-control-input" id="customSwitch">
      <label class="custom-control-label" for="customSwitch">Темная тема</label>
    </div>
  </div>
  </div>

  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <!-- Optional JavaScript -->
  <script>
    //Объект с расписанием
    var shedule = {
      chet: [
        [{
            subject: "лек. Зоология позвоночных",
            teacher: "Блохин Г.И.",
            room: "16-БА",
            time: "9:00 - 10:35"
          },
          {
            subject: "пр. Зоогеография",
            teacher: "Матушкина К.А. Веселова Н.А.",
            room: "16-Z210 16-219",
            time: "10:55-12:30"
          },
          {
            subject: "пр. Культурология",
            teacher: "Cмоленинова М.А.",
            room: "01-МР508",
            time: "13:00-14:35"
          }
        ],
        [{
            subject: "-",
            teacher: "-",
            room: "-",
            time: "9:00 - 10:35"
          },
          {
            subject: "пр. КпоВ Базовая физическая культура",
            teacher: "-",
            room: "СК",
            time: "10:55-12:30"
          },
          {
            subject: "пр. Профессиональный иностранный язык",
            teacher: "Александров А.В. Горохова А.М.",
            room: "12-202 27-308",
            time: "13:00-14:35"
          },
          {
            subject: "лек. Культурология",
            teacher: "Смоленинова Н.А.",
            room: "01-407",
            time: "14:55-16:30"
          },
          {
            subject: "пр. Сравнительная анатомия позвоночных животных",
            teacher: "Панина Е.В. Семак А.Э.",
            room: "12-202 27-308",
            time: "16:50-18:25"
          }
        ],
        [{
            subject: "пр. Физиология животных",
            teacher: "Колоскова О.В Скоблин В.Г.",
            room: "09-ФЖ04 09-ФЖ06",
            time: "9:00 - 10:35"
          },
          {
            subject: "-",
            teacher: "-",
            room: "-",
            time: "10:55-12:30"
          },
          {
            subject: "лек. КпоВ Рыбоводство КпоВ Происхождение и эволюция домашней собаки КпоВ Ихтиология ",
            teacher: "Завьялов А.П. Блохин Г.И.Мустаев С.Б.",
            room: "ВИ-А237 16-206 ВИ-А239",
            time: "13:00-14:35"
          },
          {
            subject: "-",
            teacher: "-",
            room: "-",
            time: "14:55-16:30"
          },
          {
            subject: "пр. Биологическая химия",
            teacher: "Метревели Т.В. Сергеенкова Т.А.",
            room: "09-ФЖ04 09-ФЖ06",
            time: "16:50-18:25"
          }
        ],
        [{
            subject: "пр. Этология с основами зоопсихологии",
            teacher: "Ксенофонтова А.А. Войнова О.А. ",
            room: "09-ФЖ04 09-ФЖ03",
            time: "9:00 - 10:35"
          },
          {
            subject: "пр. КпоВ Базовая физическая культура",
            teacher: "-",
            room: "СК",
            time: "10:55-12:30"
          },
          {
            subject: "пр. Зоология позвоночных ",
            teacher: "Железнова Т.К.",
            room: "16-Z219",
            time: "13:00-14:35"
          },
          {
            subject: "пр. Профессиональный иностранный язык",
            teacher: "Александров А.В. Горохова А.М.",
            room: "12-202 27-308",
            time: "14:55-16:30"
          }
        ],
        [{
            subject: "лек. Биологическая химия",
            teacher: "Савчук С.В.",
            room: "09-ХД",
            time: "9:00 - 10:35"
          },
          {
            subject: "пр. Биологическая химия ",
            teacher: "Метревели Т.В. Сергеенкова Т.А.",
            room: "09-ФЖ04 09-ФЖ06",
            time: "10:55-12:30"
          },
          {
            subject: "- ",
            teacher: "-",
            room: "-",
            time: "13:00-14:35"
          },
          {
            subject: "лек. КпоВ Рыбоводство КпоВ Происхождение и эволюция домашней собаки КпоВ Ихтиология ",
            teacher: "Завьялов А.П. Блохин Г.И.Мустаев С.Б.",
            room: "ВИ-Акаф 16-каф ВИ-Акаф",
            time: "14:55-16:30"
          }
        ]
      ],
      nechet: [
        [{
            subject: "лек. Физиология животных",
            teacher: "Ксенофонтов Д.А.",
            room: "09-ХД",
            time: "9:00 - 10:35"
          },
          {
            subject: "пр. Зоогеография",
            teacher: "Матушкина К.А. Веселова Н.А.",
            room: "16-Z210 16-219",
            time: "10:55-12:30"
          },
          {
            subject: "пр. Зоогеография",
            teacher: "Матушкина К.А. Веселова Н.А.",
            room: "16-Z219 16-210",
            time: "13:00-14:35"
          },
          {
            subject: "пр. Культурология",
            teacher: "Смоленинова Н.А.",
            room: "01-513",
            time: "14:55-16:30"
          }
        ],
        [{
            subject: "-",
            teacher: "-",
            room: "-",
            time: "9:00 - 10:35"
          },
          {
            subject: "пр. КпоВ Базовая физическая культура",
            teacher: "-",
            room: "СК",
            time: "10:55-12:30"
          },
          {
            subject: "пр. Профессиональный иностранный язык",
            teacher: "Александров А.В. Горохова А.М.",
            room: "12-202 27-308",
            time: "13:00-14:35"
          },
          {
            subject: "лек. Сравнительная анатомия позвоночных животных ",
            teacher: "Семак А.Э.",
            room: "16-БА",
            time: "14:55-16:30"
          },
          {
            subject: "пр. Сравнительная анатомия позвоночных животных",
            teacher: "Панина Е.В. Семак А.Э.",
            room: "12-202 27-308",
            time: "16:50-18:25"
          }
        ],
        [{
            subject: "пр. Физиология животных",
            teacher: "Колоскова О.В Скоблин В.Г.",
            room: "09-ФЖ04 09-ФЖ06",
            time: "9:00 - 10:35"
          },
          {
            subject: "-",
            teacher: "-",
            room: "-",
            time: "10:55-12:30"
          },
          {
            subject: "лек. Зоогеография",
            teacher: "Железнова Т.К.",
            room: "16-БА",
            time: "13:00-14:35"
          },
          {
            subject: "лек. Этология с основами зоопсихологии",
            teacher: "Ксенофонтова А.А.",
            room: "09-ХД",
            time: "14:55-16:30"
          }
        ],
        [{
            subject: "пр. Этология с основами зоопсихологии",
            teacher: "Ксенофонтова А.А. Войнова О.А. ",
            room: "09-ФЖ04 09-ФЖ03",
            time: "9:00 - 10:35"
          },
          {
            subject: "пр. КпоВ Базовая физическая культура",
            teacher: "-",
            room: "СК",
            time: "10:55-12:30"
          },
          {
            subject: "пр. Зоология позвоночных ",
            teacher: "Железнова Т.К.",
            room: "16-Z219",
            time: "13:00-14:35"
          },
          {
            subject: "пр. Профессиональный иностранный язык",
            teacher: "Александров А.В. Горохова А.М.",
            room: "12-202 27-308",
            time: "14:55-16:30"
          }
        ],
        [{
            subject: "лек. Биологическая химия",
            teacher: "Савчук С.В.",
            room: "09-ХД",
            time: "9:00 - 10:35"
          },
          {
            subject: "-",
            teacher: "-",
            room: "-",
            time: "10:55-12:30"
          },
          {
            subject: "Английский язык",
            teacher: "Метревели Т.В. ",
            room: "09-ФЖ04 09-ФЖ06",
            time: "13:00-14:35"
          },
          {
            subject: "лек. КпоВ Рыбоводство КпоВ Происхождение и эволюция домашней собаки КпоВ Ихтиология ",
            teacher: "Завьялов А.П. Блохин Г.И.Мустаев С.Б.",
            room: "ВИ-Акаф 16-каф ВИ-Акаф",
            time: "14:55-16:30"
          }
        ]
      ]
    };

    //Отрисовка расписания
    //Четное
    shedule.chet.forEach((item, i) => {
      switch (i) {
        case 0:
          $("#chetBody").html(`${$("#chetBody").html()}<tr>
              <th colspan="4" class="table-primary">Понедельник</th>
            </tr>`);
          break;
        case 1:
          $("#chetBody").html(`${$("#chetBody").html()}<tr>
            <th colspan="4" class="table-primary">Вторник</th>
          </tr>`);
          break;
        case 2:
          $("#chetBody").html(`${$("#chetBody").html()}<tr>
            <th colspan="4" class="table-primary">Среда</th>
          </tr>`);
          break;
        case 3:
          $("#chetBody").html(`${$("#chetBody").html()}<tr>
            <th colspan="4" class="table-primary">Четверг</th>
          </tr>`);
          break;
        case 4:
          $("#chetBody").html(`${$("#chetBody").html()}<tr>
            <th colspan="4" class="table-primary">Пятница</th>
          </tr>`);
          break;
      }
      for (var i = 0; i < item.length; i++) {
        $("#chetBody").html(`${$("#chetBody").html()}<tr>
              <th>${item[i].time}</th>
              <td>${item[i].subject}</td>
              <td>${item[i].room}</td>
              <td>${item[i].teacher}</td>
            </tr>`);
      }
    });
    //Нечетное
    shedule.nechet.forEach((item, i) => {
      switch (i) {
        case 0:
          $("#nechetBody").html(`${$("#nechetBody").html()}<tr>
                <th colspan="4" class="table-mycolor1">Понедельник</th>
              </tr>`);
          break;
        case 1:
          $("#nechetBody").html(`${$("#nechetBody").html()}<tr>
              <th colspan="4" class="table-mycolor1">Вторник</th>
            </tr>`);
          break;
        case 2:
          $("#nechetBody").html(`${$("#nechetBody").html()}<tr>
              <th colspan="4" class="table-mycolor1">Среда</th>
            </tr>`);
          break;
        case 3:
          $("#nechetBody").html(`${$("#nechetBody").html()}<tr>
              <th colspan="4" class="table-mycolor1">Четверг</th>
            </tr>`);
          break;
        case 4:
          $("#nechetBody").html(`${$("#nechetBody").html()}<tr>
              <th colspan="4" class="table-mycolor1">Пятница</th>
            </tr>`);
          break;
      }
      for (var i = 0; i < item.length; i++) {
        $("#nechetBody").html(`${$("#nechetBody").html()}<tr>
                <th>${item[i].time}</th>
                <td>${item[i].subject}</td>
                <td>${item[i].room}</td>
                <td>${item[i].teacher}</td>
              </tr>`);
      }
    });

    //Jquery Автоматизация
    function weekType() {
      //Меняем бейджик "Now" на нужной неделе
      let weekBool;
      let createUniv = 1573419600921 / 1000 / 60 / 60 / 24;
      let todayDate = new Date().getTime() / 1000 / 60 / 60 / 24;
      if (Math.floor(Math.floor((todayDate - createUniv) / 7) + 1) % 2 == 0) {
        $("#buttonEven").html("Четная неделя <span class='badge badge-warning'>Now!</span>");
        weekBool = false;
        $("#buttonOdd").html("Нечетная неделя");
      } else {
        $("#buttonEven").html("Четная неделя");
        weekBool = true;
        $("#buttonOdd").html("Нечетная неделя <span class='badge badge-warning'>Now!</span>");
      }
      |//я выпил сейчас пива и пойду спать
      //Меняем актуальное рассписание
      let day = new Date().getDay();
      $("#dayTimetableHD").html(``) //Очищаем заголовок сегоднешнего дня
      //выводим в рассписание название актуального дня
      switch (day) {
        case 0:
          $("#dayTimetableHD").html(`<tr>
        <th colspan="4">Понедельник(Воскресенье)</th>
      </tr>`);
          break;
        case 1:
          $("#dayTimetableHD").html(`<tr>
          <th colspan="4">Понедельник</th>
        </tr>`);
          break;
        case 2:
          $("#dayTimetableHD").html(`<tr>
            <th colspan="4">Вторник</th>
          </tr>`);
          break;
        case 3:
          $("#dayTimetableHD").html(`<tr>
              <th colspan="4">Среда</th>
            </tr>`);
          break;
        case 4:
          $("#dayTimetableHD").html(`<tr>
                <th colspan="4">Четверг</th>
              </tr>`);
          break;
        case 5:
          $("#dayTimetableHD").html(`<tr>
                  <th colspan="4">Пятница</th>
                </tr>`);
          break;
        case 6:
          $("#dayTimetableHD").html(`<tr>
                    <th colspan="4">Понедельник(Суббота)</th>
                  </tr>`);
          break;
      }
      $("#dayTimetableBD").html(``) //Очищяем ячейки с актуальным расписанием на сегоднешний день.
      //Заполняем само рассписание
      if ((day == 6) || (day == 0)) {
        console.log(479)
        if (weekBool) {
          for (var i = 0; i < shedule.chet[0].length; i++) {
            $("#dayTimetableBD").html(`${$("#dayTimetableBD").html()}<tr>
            <th>${shedule.chet[0][i].time}</th>
            <td>${shedule.chet[0][i].subject}</td>
            </tr>`);
          }
        } else {
          for (var i = 0; i < shedule.nechet[0].length; i++) {
          $("#dayTimetableBD").html(`${$("#dayTimetableBD").html()}<tr>
        <th>${shedule.nechet[0][i].time}</th>
        <td>${shedule.nechet[0][i].subject}</td>
      </tr>`);
          }
        }
      } else {
        if (weekBool) {
          console.log( 496 )
          for (var i = 0; i < shedule.nechet[day - 1].length; i++) {
            $("#dayTimetableBD").html(`${$("#dayTimetableBD").html()}<tr>
          <th>${shedule.nechet[day-1][i].time}</th>
          <td>${shedule.nechet[day-1][i].subject}</td>
        </tr>`);
          }
        } else {
          for (var i = 0; i < shedule.chet[day - 1].length; i++) {
            $("#dayTimetableBD").html(`${$("#dayTimetableBD").html()}<tr>
           <th>${shedule.chet[day-1][i].time}</th>
           <td>${shedule.chet[day-1][i].subject}</td>
           </tr>`);
          }
        }
      }
    }
    setInterval(() => weekType(), 100);
//тут все супер идеально, поэтому я просто напишу комментарий
    //Смена css стилей страницы
    $("#customSwitch").click(() => {
      if($("#customSwitch").prop('checked')) {
        $("#styleLink").attr("href", "css/dark_theme_styles.css");
      } else {
        $("#styleLink").attr("href", "css/styles.css");
      }
    });
  </script>
</body>

</html>
